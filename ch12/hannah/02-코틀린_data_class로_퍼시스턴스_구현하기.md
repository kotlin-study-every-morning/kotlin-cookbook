### 코틀린 data 클래스로 퍼시스턴스 구현하기

- 문제
    - 코틀린 data 클래스로 자바 퍼시스턴스 API(이하 JPA)를 사용하고 싶다
- 해법
    - kotlin-jpa 플러그인을 빌드 파일에 추가한다

- no-arg 플러그인
    - 인자가 없는 생성자를 추가할 클래스를 선택할 수 있다
    - 기본 생성자를 호출하는 애노테이션을 정의할 수 있다
    - 코틀린 엔티티에 기본 생성자를 자동으로 구성한다
    - 합성한 기본 연산자를 코틀린 클래스에 추가한다
    - 즉 자바나 코틀린에서는 함성 기본 연산자를 호출할 수 없다
    - 하지만 스프링에서는 리플렉션을 사용해 합성 기본 연산자를 호출할 수 있다
    - 인자가 없는 생성자가 필요한 클래스를 표시하는 데 사용할 애노테이션을 정의해야 한다

- kotlin-jpa 플러그인
    - no-arg 플러그인보다 사용이 쉽다
    - no-arg 플러그인을 기반으로 만들어 졌다
    - 다양한 애노테이션으로 자동 표시된 클래스에 기본 생성자를 추가한다
        - @Entity
        - @Embeddable
        - @MappedSuperclass

- JPA
    - JPA가 엔티티에 불변 클래스를 사용하고 싶어하지 않는다
    - 스프링 개발 팀은 엔티티로 사용하고 싶은 코틀린 틀래스에 (data 클래스 대신) 필드 값을 변경할 수 있게 속성에 var 타입을 사용하는 단순 클래스의 사용을 추천
    - 생성된 기본 키 필드는 널을 허용
